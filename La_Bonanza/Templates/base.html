{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'libs/bootstrap/css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'libs/fontawesome/css/all.css' %}">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <!--  Datatables  -->
    <link rel="stylesheet" type="text/css" href="{%static 'libs/DataTables/jquery.dataTables.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/side.css' %}">
    <!--  extension responsive  -->
    <link rel="stylesheet" type="text/css" href="{% static 'libs/DataTables/Responsive/dataTables.min.css' %}">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    {% block estilos %}{% endblock estilos %}
        

  
    <title>{% block titulo %}Base{% endblock titulo %}</title>
</head>
<body>
 
  {% if  request.user.is_authenticated%}
    <div class="sidebar">
      <div class="logo-details">
        <!-- <i class='bx bxl-c-plus-plus icon'></i> -->
          <img class="icon" src="{% static 'img/logoBon.png' %}"  width="30px" style="margin-right: 7px;" alt="">
          <div class="logo_name">La Bonanza</div>
          <i class='bx bx-menu' id="btn" ></i>
      </div>
      <ul class="nav-list">
        
        {%if request.user.administrador == False%}
        <li>
          <a class="{% if request.path == '/Administracion/Profesores/'%}active {% endif %}" href="{%url 'profesores'%} ">
            <i class='bx bx-home'></i>
            <span class="links_name">Principal</span>
          </a>
          <span class="tooltip">Principal</span>
        </li>
        <li>
          <a class="{% if request.path == '/Administracion/Calendario/'%}active{% endif %}" href="{% url 'calendario' %}">
            <i class='bx bx-calendar'></i>
            <span class="links_name">Calendario</span>
          </a>
          <span class="tooltip">Calendario</span>
        </li>
        {%else%}
        <li>
          <a class=" 
          {% if request.path == '/'  or 'buscarRuta' in request.path%}active{% endif %}
          " href="{% url 'index' %}">
            <i class='bx bx-grid-alt'></i>
            <span class="links_name">Inicio</span>
          </a>
          <span class="tooltip">Inicio</span>
        </li>
        {% endif %}

        {%if request.user.administrador%}
          <li>
            <a class="
            {% if request.path == '/Administracion/Estudiantes/'%}active{% endif %}
            {% if request.path == '/Administracion/RegistarEstudiante/'%}active{% endif %}
            {% if request.path == '/Administracion/BuscarNuevosEstudiantes/'%}active{% endif %}
            {% if '/Administracion/ModificarEstudiante/' in request.path %}active{% endif %}
            {% if '/Administracion/VerInfoEstudiante/' in request.path %}active{% endif %}
            " href="{%url 'estudiantes'%}">
              <i class='bx bx-user' ></i>
              <span class="links_name">Alumnos</span>
            </a>
          <span class="tooltip">Alumnos</span>
          </li>

          <li>
            <a class=" 
              {% if request.path == '/Administracion/Profesores/'%}active {% endif %}
              {% if '/Administracion/VerInfoProfesor/' in request.path %}active{% endif %}
              {% if '/Administracion/VerEstudiantes/' in request.path %}active{% endif %}
              " aria-current="page" href="{%url 'profesores'%} ">
              <i class="fa-solid fa-user-tie"></i>
              <span class="links_name">Instructores</span>
            </a>
            <span class="tooltip">Instructores</span>
          </li>
          <li>
            <a class="
            {% if request.path == '/Niveles/Listar/'%}active {% endif %} 
            " href="{%url 'listarNivel'%} ">
              <i class='bx bx-pie-chart-alt-2' ></i>
              <span class="links_name">Niveles</span>
            </a>
            <span class="tooltip">Niveles</span>
          </li>
          <li>
            <a class="
            {% if request.path == '/Administracion/Calendario/'%}active {% endif %}
            {% if request.path == '/Administracion/Asistencia/'%}active {% endif %}
            {% if request.path == '/Administracion/ControlAsistencia/'%}active {% endif %}
            {% if '/Administracion/ClasesCanceladas/' in request.path %}active{% endif %}
            " href="{%url 'calendario'%}">
              <i class='bx bx-calendar'></i>
              <span class="links_name">Calendario</span>
            </a>
            <span class="tooltip">Calendario</span>
          </li>
          <li>
            <a class=" 
            {% if request.path == '/Picaderos/'%}active {% endif %}
            {% if '/Picaderos/InfoPicadero/' in request.path %}active{% endif %}
            " href="{% url 'picaderos' %}">
              <i class="fa-solid fa-warehouse"></i>
              <span class="links_name">Picaderos</span>
            </a>
            <span class="tooltip">Picaderos</span>
          </li>
        {% endif %}
        
        

        <li class="profile">
            <!-- <a href="{% url 'perfil' %}"></a> -->
            <div class="profile-details" onclick="IrPerf()">
              <img src="/media/{{request.user.imagen}}">
              <div class="name_job">
                <div class="name">{{request.user.nombres|title}}</div>
                
                {% if request.user.administrador == True %}
                  <div class="job">Administrador</div>
                {% else %}
                  <div class="job">Profesor</div>
                {% endif %}
              </div>
            </div>

            <a href="{% url 'logout' %}">
              <i class='bx bx-log-out' id="log_out" ></i>
            </a>
            
        </li>

      </ul>
    </div>
  {% endif %}
  <section class="home-section">
    {% block contenido %}
          
    {% endblock contenido %}
    <small style="margin-top: 100px;" class="derechos"><i class="fa-regular fa-copyright"></i> Lambda Analytics <img width="30px" src="{% static 'img/logoLambda.png'%}" alt=""> 2022 </small>
  </section>

  {% block modals %}
            
  {% endblock modals %}

  <div class="modal fade" id="CambiarContrasena" role="dialog" opacity: 1 !important>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  <script src="{% static 'libs/sweetalert/sweetalert.js' %}"></script>
  <script src="{% static 'libs/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'libs/bootstrap/js/bootstrap.js' %}"></script>
  <!--   Datatables-->
  <script type="text/javascript" src="{%static 'libs/DataTables/jquery.dataTables.min.js' %}"></script>
  <!-- extension responsive -->
  <script src="{% static 'libs/DataTables/Responsive/dataTables.min.js' %}"></script>
  <script src="{% static 'js/main.js' %}"></script>
  <script>
    function IrPerf(){
      location.href = "/Usuarios/Perfil/"
    }

    let sidebar = document.querySelector(".sidebar");
    let closeBtn = document.querySelector("#btn");
    let searchBtn = document.querySelector(".bx-search");
  
    closeBtn.addEventListener("click", ()=>{
      sidebar.classList.toggle("open");
      menuBtnChange();//calling the function(optional)
    });
  
    searchBtn.addEventListener("click", ()=>{ // Sidebar open when you click on the search iocn
      sidebar.classList.toggle("open");
      menuBtnChange(); //calling the function(optional)
    });
  
    // following are the code to change sidebar button(optional)
    function menuBtnChange() {
     if(sidebar.classList.contains("open")){
       closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");//replacing the iocns class
     }else {
       closeBtn.classList.replace("bx-menu-alt-right","bx-menu");//replacing the iocns class
     }
    }

   
    
    
    </script>
  {% block scripts %}{% endblock scripts %}

</body>
</html>


