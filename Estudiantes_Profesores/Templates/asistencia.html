{% extends 'base.html' %}
{% load static %}
{% block titulo %}Asistencia{% endblock titulo %}

{% block estilos %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
{% endblock estilos %}
    

{% block contenido %}
{% regroup clases by horaClase as x %}
    <div class="container">
        <h4><center>{{dia|date:"D-d M Y"}}</center></h4>
        <hr>
        {% for clase in x %}
            <ul class="list-group">
                <li class="list-group-item active" aria-current="true">
                    {{clase.grouper|date:'h:00 A'}}
                    <button class="btn btn-outline-info btn-sm" style="float: right;" form="{{clase.grouper|date:'H'}}Form">Guardar</button>
                </li>
               <form action="" method="post" id="{{clase.grouper|date:'H'}}Form">
                {% csrf_token %}
                    {% for estudiante in clase.list %}
                        <li class="list-group-item">
                            <div class="row">
                                <div class="col-md-9">
                                    <div class="tooltipE">
                                        <button class="btn btn-light btn-sm"> <i class="fa-solid fa-circle" style="color: {{estudiante.nivel.color_fondo}};"></i></button>
                                        <span class="tooltiptextE" style="color: {{estudiante.nivel.color_letra}}; background-color: {{estudiante.nivel.color_fondo}};">{{estudiante.nivel.nivel}}</span>
                                    </div>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <h6 style="line-height: 1.9; display: inline-block; vertical-align: middle;">{{estudiante.estudiante.nombre_completo}}</h6>
                                </div>
                                <div class="col-md-3">
                                    <select name="estudiante{{estudiante.estudiante.pk}}" id="" class="form-select">
                                        <option value="1" selected>Asistió</option>
                                        <option value="2">No asistió </option>
                                        <option value="3">Cancelo</option>
                                    </select>
                                    <input type="hidden" name="estudiante{{estudiante.estudiante.pk}}" value="{{estudiante.estudiante.pk}}">
        
                                </div>
                            </div>
                        </li> 
                    {% endfor %}
                    <input type="hidden" name="hora" value="{{clase.grouper|date:'H:i'}}">
               </form>
            </ul>
            <br>
        {% endfor %}
    </div>
        
    
{% endblock contenido %}


{% comment %}
    {% block scripts %}
    
    {% endblock scripts %}
{% endcomment %}
    

