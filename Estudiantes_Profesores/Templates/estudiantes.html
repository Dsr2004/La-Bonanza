{% extends 'base.html' %}
{% block titulo %}Estudiantes{% endblock titulo %}


{% block contenido %}
    <div class="container">
       <div class="row">
        <div class="col-md-10">
            <h1>Administraci√≥n de Estudiantes</h1>
        </div>
        <div class="col-md-2">
           <a href="{% url 'registrarEstudiante' %}" class="btn btn-outline-success btn-lg" > <i class="fa-solid fa-person-circle-plus fa-xl"></i></a>
          
          {% if nuevosEstudiantes %}
          <a href="{% url 'buscarNuevosEstudiantes' %}" class="btn btn-outline-warning btn-lg" >  <i class="fa-solid fa-clock fa-xl"></i></a>
          {% endif %}
            
        </div>
       </div>
        <hr>
        <table id="EstudiantesTable" class="table">
            <thead>
                <tr>
                    <th colspan="6">Datos</th>
                    <th colspan="1">Acciones</th>
                </tr>
               <tr>
                    <th>#</th>
                    <th>Nombre</th>
                    <th>Documento</th>
                    <th>Celular</th>
                    <th>Matricula</th>
                    <th>Nivel</th>
                    <th></th>
               </tr>
            </thead>
            <tbody>
                {% for estudiante in estudiantes %}
                    <tr>
                        <td>{{forloop.counter}}</td>
                        <td>{{estudiante.get_estudiante}}</td>
                        <td>{{estudiante.get_estudiante_documento}}</td>
                        <td>{{estudiante.get_estudiante_celular}}</td>
                        <td>{{estudiante.get_estado_matricula}}</td>
                        <td>{{estudiante.get_estudiante_nivel}}</td>
                        <td>
                            <div style="display:inline-flex; ">
                                <a href="{% url 'verInfoEstudiante' estudiante.estudiante.pk %}" style="margin-right:10px" class="btn btn-outline-info btn-sm"><i class="fa-solid fa-eye"></i></a>
                                <a href="{% url 'modificarEstudiante' estudiante.estudiante.pk %}"style="margin-right:10px"  class="btn btn-outline-warning btn-sm"><i class="fa-solid fa-pencil"></i></a>
                                <div style="margin-right:10px" class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" role="switch" {% if estudiante.estudiante.estado  %}
                                    checked
                                    {% endif %} onclick="cambiar_estado_estudiante('{%url 'cambiarEstadoEstudiante'%}', '{{estudiante.estudiante.pk}}')">
                                </div>
                            </div>
                           

                            <!-- <a  class="btn btn-outline-danger btn-sm"><i class="fa-solid fa-trash"></i></a> -->
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        {% csrf_token %}
    </div>
{% endblock contenido %}

{% block scripts %}
<script>
    $(document).ready(function(){
        $("#EstudiantesTable").DataTable({responsive:true})
    })
</script>
{% endblock scripts %}
    