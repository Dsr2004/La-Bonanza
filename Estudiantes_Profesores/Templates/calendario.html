{% extends 'base.html' %}
{% load static %}
{% block titulo %}Calendario{% endblock titulo %}

{% block estilos %}
<link rel="stylesheet" href="{% static 'libs/fullcalendar/lib/main.css' %}">
{% endblock estilos %}
    

{% block contenido %}
<div id="calendar" style="padding: 40px;">
</div>
{% endblock contenido %}

{% block scripts %}
<script src="{% static 'libs/fullcalendar/lib/main.js' %}"></script>
<script src="{% static 'libs/fullcalendar/lib/locales-all.js' %}"></script>
<script>
    document.addEventListener("DOMContentLoaded", function(){
        var CalenadrUI = document.getElementById("calendar")
        var calendar = new FullCalendar.Calendar(CalenadrUI,{
            eventTimeFormat: { 
                hour: '2-digit',
                minute: '2-digit',
                hour12: true
            },
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
            },
            events: [
            {%for clase in clases %}
                {
                title : '{{clase.get_estudiante}}',
                startRecur : '{{clase.inicioClase|date:"Y-m-d"}}',
                endRecur : '{{clase.finClase|date:"Y-m-d"}}',

                startTime: '{{clase.horaClase}}',
                daysOfWeek: [ '{{clase.diaClase}}' ],
                color: '{{clase.estudiante.nivel.color_fondo}}',
                textColor: '{{clase.estudiante.nivel.color_letra}}',
                },
                
            {%endfor%}

            ],
        })

        calendar.render();
        calendar.setOption('locale','es')

    })
</script>
{% endblock scripts %}



{% comment %}
events: [
{
title : "Estudiante 1",
startRecur : "2022-08-18",
endRecur : "2022-08-31",

startTime: '10:45:00',
endTime: '12:45:00',
color: "green",
daysOfWeek: [ '4' ],
},
{
title : "Estudiante 2",
startRecur : "2022-07-01",
endRecur : "2022-08-31",
startTime: '11:45:00',
endTime: '12:45:00',
color: "red",
daysOfWeek: [ '5' ],
},
{
title : "Estudiante 3",
startRecur : "2022-08-18",
endRecur : "2022-08-31",
startTime: '10:45:00',
endTime: '12:45:00',
color: "yellow",
daysOfWeek: [ '4' ],
}
],


----------------

{
    title : "Estudiante 1",
    startRecur : "2022-08-18",
    endRecur : "2022-08-31",
    
    startTime: '10:45:00',
    color: "green",
    daysOfWeek: [ '4' ],
    },
    {
    title : "Estudiante 2",
    startRecur : "2022-07-01",
    endRecur : "2022-08-31",
    startTime: '11:45:00',
    color: "red",
    daysOfWeek: [ '5' ],
    },
    {
    title : "Estudiante 3",
    startRecur : "2022-08-18",
    endRecur : "2022-08-31",
    startTime: '10:45:00',
    color: "yellow",
    daysOfWeek: [ '4' ],
    }
{% endcomment %}